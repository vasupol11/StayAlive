
var Map1 = cc.Node.extend({
    ctor: function( mapNumber ) {
        this._super();
        this.WIDTH = 40;
        this.HEIGHT = 25;
        this.blocks = [];
        this.greenBlocks = [];
        this.pinkBlocks = [];
        this.scheduleUpdate();
        
        if(mapNumber == 1){
            this.MAP = [
                '.............................###........',
                '............................#!!!#.......',
                '............................#!!!#.......',
                '.......................######!!!######..',
                '......................#...............#.',
                '......................#...............#.',
                '......................#...............#.',
                '......................#...............#.',
                '......................#...............#.',
                '......................#...............#.',
                '......................#...............#.',
                '......................#...............#.',
                '......................#...............#.',
                '......................#...............#.',
                '......#################...............#.',
                '.....#................................#.',
                '.....#................................#.',
                '.....#---#############################..',
                '.....#---#..............................',
                '.....#---#..............................',
                '......###...............................',
                '........................................',
                '........................................',
                '........................................',
                '........................................'
    
        
            ];
        }
        else if(mapNumber == 2){
            this.MAP = [
                '............#####..........#####........',
                '............#---#..........#!!!#........',
                '............#---#..........#!!!#........',
                '............#---#..........#!!!#........',
                '............#...#..........#...#........',
                '............#...#..........#...#........',
                '............#...###......###...#........',
                '............#.....#......#.....#........',
                '............#.....#......#.....#........',
                '............#.....#......#.....#........',
                '............#.....#......#.....#........',
                '............#.....#......#.....#........',
                '.......######.....#......#.....#####....',
                '.......#..........#......#.........#....',
                '.......#..........#......#.........#....',
                '.......#.....######......#####.....#....',
                '.......#.....#################.....#....',
                '.......#...........................#....',
                '.......#...........................#....',
                '.......#######................######....',
                '.............#................#.........',
                '.............##################.........',
                '........................................',
                '........................................',
                '........................................'
        
            ];
        }
        else if(mapNumber == 3){
            this.MAP = [
                '........................................',
                '........................................',
                '.....##############################.....',
                '.....#............................#.....',
                '.....#............................#.....',
                '.....#............................#.....',
                '.....#............................#.....',
                '.....#............................#.....',
                '.....#............................#.....',
                '.....#............................#.....',
                '..####............................######',
                '..#---..............................!!!#',
                '..#---..............................!!!#',
                '..#---..............................!!!#',
                '..####............................######',
                '.....#............................#.....',
                '.....#............................#.....',
                '.....#............................#.....',
                '.....#............................#.....',
                '.....#............................#.....',
                '.....#............................#.....',
                '.....#............................#.....',
                '.....##############################.....',
                '........................................',
                '........................................'
        
            ];
        }

        this.createBlockPieces();

    },

    createBlockPieces: function(){

        for ( var r = 0; r < this.HEIGHT; r++ ) {
            for ( var c = 0; c < this.WIDTH; c++ ) {
                if ( this.MAP[ r ][ c ] == '#' ) {
                    blackBlock = new Block();
                    blackBlock.setPosition( cc.p( c * 20 - 20, (this.HEIGHT - r -1) * 20 + 40));
                    this.addChild( blackBlock );
                    this.blocks.push( blackBlock );
                }
                else if ( this.MAP[ r ][ c ] == '-' ) {
                    greenBlock = new GreenBlock();
                    greenBlock.setPosition( cc.p( c * 20 - 20, (this.HEIGHT - r -1) * 20 + 40 ));
                    this.addChild( greenBlock );
                    this.greenBlocks.push( greenBlock );
                }
                else if ( this.MAP[ r ][ c ] == '!' ) {
                    pinkBlock = new PinkBlock();
                    pinkBlock.setPosition( cc.p( c * 20 - 20, (this.HEIGHT - r -1) * 20 + 40));
                    this.addChild( pinkBlock );
                    this.pinkBlocks.push( pinkBlock );
                }
            }
        }
    
    },

});